<!DOCTYPE HTML>
<html>
	<head>
		<title>calculator</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<script>
			var arr=[];
			arr[0]='0';
			arr[1]='+';
			arr[2]='';
			var fill='0';
			var result='';
			var temp1;
			var temp2;
			var resetting=0;
			var flag=0;
			function plusmin(){
				arr[2]*=(-1)
				show=arr[0]+arr[1]+arr[2];	
				document.getElementById("display").value=show;
			}
			function back(){
			 // arr[2]='';
			 // show=arr[0]+arr[1];
			 // fill=0;	
				// document.getElementById("display").value=show;
				if(arr[2]!='')
					{ar0=arr[2].toString();
					if(ar0.length==1){
						arr[2]='';
						show=arr[0]+arr[1];
						fill=0;	
					document.getElementById("display").value=show;

					}
					else{
					arr[2]=ar0.slice(0,-1);
					arr[2]=parseFloat(arr[2])
			 		show=arr[0]+arr[1]+arr[2];	
					document.getElementById("display").value=show;
				}}
				else 
					if(arr[1]!='')
					{arr[2]=arr[0];
					arr[0]='0';
					arr[1]='+'
					show=arr[2];	
					document.getElementById("display").value=show;
					// flag=1;
					}
					// else
					// 	if(arr[0]!='')
					// 	{

					// 	}
				}
			function clr(){
				document.getElementById("display").value="";
				arr[0]='0';
				arr[1]='+';
				arr[2]='';
				fill='0';
				result='';
				flag=0;
			}
			function dis(val){
				if(flag==1){
					  if (resetting == 1) {
                	clr();
                	resetting=0;				
				}
				arr[0]=arr[2]+val;
				document.getElementById("display").value+=val;
				fill=1;

				}
				else{
			    if (resetting == 1) {
                	clr();
                	resetting=0;				
				}
				document.getElementById("display").value+=val;
				arr[2]=arr[2]+val;
				fill=1;
			}
			}	
			function res(){
				temp1=parseFloat(arr[0]);
				console.log(temp1);
				temp2=parseFloat(arr[2]);
				console.log(temp2);
				if(arr[1]=='+'){
					result=temp1+temp2;
				}
				if(arr[1]=='%'){
					result=temp1%temp2;
				}
				if(arr[1]=='-'){
					result=temp1-temp2;
				}
				if(arr[1]=='/'){
					result=temp1/temp2;
				}
				if(arr[1]=='*'){
					result=temp1*temp2;
				}
			}	
	        function dis1(val)
	        {
				resetting=0;
				flag=0;
				if(fill == 1){
					res();
					arr[0]=result;
					arr[1]=val;
					arr[2]='';
					show=arr[0]+arr[1];
					fill=0;	
					document.getElementById("display").value=show;
				}
				else{
					arr[1]=val;
					show1=arr[0]+arr[1]
					document.getElementById("display").value=show1;
				}
			}
			function solve(){
				flag=0;
				if(fill == 1){
					res();
					document.getElementById("display").value=result;
					arr[0]=result;
					arr[1]='+';
					arr[2]='';
					fill='0';
					result='';
					resetting=1;
				}
			}
		</script>
	</head>
	<body>
		<div class="row justify-content-center">
			<div class="col col-lg-4 col-md-12  col-sm-12">
				<div class="container border shadow mt-3">
					<div class="container-fluid text-danger text-center mt-3">
						<h1> Calculator </h1>
					</div>
					<div class=" row text-center mt-3">
						<div class="col-12">
							<input type="text" class="form-control" id="display" disabled >
						</div>
						<div class="col-12">
							<div class="row mt-3">
								<div class="col-3">
									<button class="btn  btn-block border text-danger " id="clr" type="button" onclick="clr()">C</button>
								</div>
								<div class="col-3">
									<button class="btn btn-block border " id="back" type="button" onclick="back()">< <</button>
								</div>
								<div class="col-3">
									<button class="btn btn-block border  " id="mod" type="button" onclick="dis1('%')">MOD</button>
								</div>
								<div class="col-3">
									<button class="btn border  btn-block" id="divide" type="button" onclick="dis1('/')">/</button>
								</div>
							</div>
						</div>
						<div class="col-12">
							<div class="row mt-3">
								<div class="col-3">
									<button class="btn border   btn-block" id="seven" type="button" onclick="dis('7')">7</button>
								</div>
								<div class="col-3">
									<button class="btn border  btn-block" id="eight" type="button" onclick="dis('8')">8</button>
								</div>
								<div class="col-3">
									<button class="btn border btn-block" id="nine" type="button" onclick="dis('9')">9</button>
								</div>
								<div class="col-3">
								<button class="btn border  btn-block" id="mul" type="button" onclick="dis1('*')">X</button>
							</div>
						</div>
					</div>
					<div class="col-12">
						<div class="row mt-3">
							<div class="col-3">
								<button class="btn btn-block border " id="four" type="button" onclick="dis('4')">4</button>
							</div>
							<div class="col-3">
								<button class="btn border btn-block" id="five" type="button" onclick="dis('5')">5</button>
							</div>
							<div class="col-3">
								<button class="btn border btn-block" id="six" type="button" onclick="dis('6')">6</button>
							</div>
							<div class="col-3">
								<button class="btn border btn-block" id="sub" type="button" onclick="dis1('-')">-</button>
							</div>
						</div>
					</div>
					<div class="col-12">
						<div class="row mt-3">
							<div class="col-3">
								<button class="btn border  btn-block" id="one" type="button" onclick="dis('1')">1</button>
							</div>
							<div class="col-3">
								<button class="btn border  btn-block" id="two" type="button" onclick="dis('2')">2</button>
							</div>
							<div class="col-3">
								<button class="btn btn-block border" id="three" type="button" onclick="dis('3')">3</button>
							</div>
							<div class="col-3">
								<button class="btn border btn-block" id="add" type="button" onclick="dis1('+')">+</button>
							</div>
						</div>
					</div>
					<div class="col-12">
						<div class="row mt-3 mb-3">
							<div class="col-3">
								<button class="btn border btn-block" id="plusmin" type="button" onclick="plusmin()">+/-</button>
							</div>	
							<div class="col-3">
								<button class="btn border btn-block" id="zero" type="button" onclick="dis('0')">0</button>
							</div>
							<div class="col-3">
								<button class="btn border btn-block" id="deci" type="button" onclick="dis('.')">.</button>
							</div>
							<div class="col-3">
								<button class="btn btn-block border btn-success" id="equal" type="button" onclick="solve()">=</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</body>
</html>